import Html from 'src/components/Html'
import Note from 'src/components/Note'
import Code from 'src/components/Code'
import Space from 'src/components/Space'
import { Tabs } from '@mantine/core'

export const meta = {
  title: 'メタタグ',
  description: '',
  url: '/ecm/docs/metatags',
  tags: ['metatag'],
}

# メタタグ
## 凡例
<span style={{backgroundColor: '#CCE7D3', color : '#006B3E'}}>追加あるいは変更をディレクターに打診するタグ</span>  
<span style={{backgroundColor: '#ffbebe', color: '#bf0000'}}>削除するタグ</span>
## メタタグ一覧
<table class="mdx-table">
  <thead class="mdx-table-header">
    <tr>
      <th>HTML</th>
      <th>デバイス</th>
      <th>目的</th>
    </tr>
  </thead>
  <tbody class="mdx-table-body">
    <tr>
      <td class="mdx-mono">`<meta charset="UTF-8" />`</td>
      <td class="mdx-mono" style={{whiteSpace: 'nowrap'}}>PC / SP</td>
      <td class="mdx-mono">文字コードを`UTF-8`に指定する。</td>
    </tr>
    <tr style={{backgroundColor: '#ffbebe', color: '#bf0000'}}>
      <td class="mdx-mono">`<meta http-equiv="X-UA-Compatible" content="IE=edge" />`</td>
      <td class="mdx-mono" style={{whiteSpace: 'nowrap'}}>PC / SP</td>
      <td class="mdx-mono">Internet Explorerにおいて、どのバージョンのIEの仕様でページを表示するかを指定する。IEがサポート外となっている現在ではあまり意味がない。</td>
    </tr>
    <tr>
      <td class="mdx-mono">`<title>【楽天市場】★★特集名｜★★ページの趣旨が伝わりやすいタイトルを記載（全部で全角27文字以内推奨）</title>`</td>
      <td class="mdx-mono" style={{whiteSpace: 'nowrap'}}>PC / SP</td>
      <td class="mdx-mono">ブラウザーのタイトルバーやページのタブに表示される文書のタイトルを定義する。</td>
    </tr>
    <tr>
      <td class="mdx-mono">`<meta name="description" content="★★ページの内容を紹介するリード文を記載（全角118文字以内推奨）" />`</td>
      <td class="mdx-mono" style={{whiteSpace: 'nowrap'}}>PC / SP</td>
      <td class="mdx-mono">ページの概要を入力する。ユーザーに対して正確に概要を説明できているとGoogleが判断した場合に、検索結果に表示される。</td>
    </tr>
    <tr>
      <td class="mdx-mono">`<meta name="keywords" content="★★5件以上のキーワードを','で区切って掲載、以下2件は必須→,楽天市場,通販" />`</td>
      <td class="mdx-mono" style={{whiteSpace: 'nowrap'}}>PC / SP</td>
      <td class="mdx-mono">
        ページでフォーカスされているキーワードを入力する。  
        国内シェアに関して言えば、現在meta keywordsをインデックス登録や掲載順位の決定に採用している検索エンジンは[ほぼない](https://webma.xscore.co.jp/study/seo-meta-keywords/#%E4%BB%96%E3%81%AE%E6%A4%9C%E7%B4%A2%E3%82%A8%E3%83%B3%E3%82%B8%E3%83%B3%E3%81%AB%E3%81%8A%E3%81%91%E3%82%8B%E3%83%A1%E3%82%BF%E3%82%AD%E3%83%BC%E3%83%AF%E3%83%BC%E3%83%89%E3%81%AE%E6%89%B1%E3%81%84%E3%80%90Yahoo%E3%83%BBBing%E3%83%BBBaidu%E3%83%BBYandex%E3%80%91)が、[以下の理由でキープ](https://git.rakuten-it.com/projects/ICWDCDG/repos/sidekick/pull-requests/1669/overview?commentId=5927540)。
        - Google SEOでは弱いが、LLMの補助ヒントになる
        - 特に 商品名の別表記・略称に有効
      </td>
    </tr>
    <tr>
      <td class="mdx-mono">`<link href="★★PC&SP共通ページURL/" rel="canonical" />`</td>
      <td class="mdx-mono" style={{whiteSpace: 'nowrap'}}>PC / SP</td>
      <td class="mdx-mono">同じサイト内に重複したコンテンツや類似するページが存在する場合、どのページを評価してほしいかを検索エンジンに伝える。下記`alternate`属性と併用されることがある。</td>
    </tr>
    <tr>
      <td class="mdx-mono">`<link href="android-app://jp.co.rakuten.android/rakuten-ichiba-app/www.rakuten.co.jp/web/?deep_link_url=★★PC&SP共通ページURL/?scid=wi_ich_androidapp_appindexing_event&l-id=wi_ich_androidapp_appindexing_event" rel="alternate" />`</td>
      <td class="mdx-mono" style={{whiteSpace: 'nowrap'}}>PC / SP</td>
      <td class="mdx-mono">
        `canonical`属性と併せて、同じ内容でURLが異なるページの正規化を行う。  
        `alternate`属性は、PCサイトとモバイルサイトのURLが異なる場合、多言語対応が行われている場合、ページを部分的に出し分けしてA/Bテストを行う場合、商品ページでサイズや色にバリエーションがある場合などに使用される。  
        [「link rel=”alternate”」の意味とSEOを意識した正しい使い方 | WEB集客ラボ byGMO（GMO TECH）](https://gmotech.jp/semlabo/seo/blog/link-alternate/)
      </td>
    </tr>
    <tr>
      <td class="mdx-mono">`<script type="application/ld+json"></script>`</td>
      <td class="mdx-mono" style={{whiteSpace: 'nowrap'}}>PC / SP</td>
      <td class="mdx-mono">
        構造化データ（ページの内容を検索エンジンが理解できるように記述したデータ）を記述する。  
        <span style={{backgroundColor: '#CCE7D3', color : '#006B3E'}}>配列構造については[要修正](https://git.rakuten-it.com/projects/ICWDCDG/repos/sidekick/pull-requests/1669/overview?commentId=5927703)</span>  
        [構造化データ マークアップ支援ツール](https://www.google.com/webmasters/markup-helper/?hl=ja)
      </td>
    </tr>
    <tr>
      <td class="mdx-mono">`<meta name="r_start" content="★★ページの表示開始日 yyyy-mm-ddT00:00:00" />`</td>
      <td class="mdx-mono" style={{whiteSpace: 'nowrap'}}>PC / SP</td>
      <td class="mdx-mono">
        楽天独自のタグ。ページの表示期間を記述することで、期間外になるとページ上部にアラートを表示する。  
        [4.1.23.r_start/r_endまとめ](https://confluence.rakuten-it.com/confluence/pages/viewpage.action?pageId=3242813631)
      </td>
    </tr>
    <tr>
      <td class="mdx-mono">`<meta name="r_end" content="★★ページの表示終了日 yyyy-mm-ddT00:00:00" />`</td>
      <td class="mdx-mono" style={{whiteSpace: 'nowrap'}}>PC / SP</td>
      <td class="mdx-mono">
        楽天独自のタグ。ページの表示期間を記述することで、期間外になるとページ上部にアラートを表示する。  
        [4.1.23.r_start/r_endまとめ](https://confluence.rakuten-it.com/confluence/pages/viewpage.action?pageId=3242813631)
      </td>
    </tr>
    <tr style={{backgroundColor: '#CCE7D3', color : '#006B3E'}}>
      <td class="mdx-mono">`<meta name="robots" content="unavailable_after: 2020-09-21" />`</td>
      <td class="mdx-mono" style={{whiteSpace: 'nowrap'}}>PC / SP</td>
      <td class="mdx-mono">指定した日時を過ぎたら検索エンジンにおけるページの検索順位を徐々に下げる。</td>
    </tr>
    <tr>
      <td class="mdx-mono">`<meta property="og:title" content="★★シェアされた際に表示されるページのタイトルを記載" />`</td>
      <td class="mdx-mono" style={{whiteSpace: 'nowrap'}}>PC / SP</td>
      <td class="mdx-mono">OGP。SNSでシェアされた際に表示されるタイトル。</td>
    </tr>
    <tr>
      <td class="mdx-mono">`<meta property="og:description" content="★★シェアされた際に表示されるページの説明文を記載" />`</td>
      <td class="mdx-mono" style={{whiteSpace: 'nowrap'}}>PC / SP</td>
      <td class="mdx-mono">OGP。SNSでシェアされた際に表示される説明文。</td>
    </tr>
    <tr>
      <td class="mdx-mono">`<meta property="og:url" content="★★PC&SP共通ページURL/" />`</td>
      <td class="mdx-mono" style={{whiteSpace: 'nowrap'}}>PC / SP</td>
      <td class="mdx-mono">OGP。OGPを設定するページのURL。</td>
    </tr>
    <tr>
      <td class="mdx-mono">`<meta property="og:type" content="article" />`</td>
      <td class="mdx-mono" style={{whiteSpace: 'nowrap'}}>PC / SP</td>
      <td class="mdx-mono">OGP。ページの種類を指定する。値によってSNS上での表示形式が変わる。</td>
    </tr>
    <tr>
      <td class="mdx-mono">`<meta property="og:site_name" content="楽天市場" />`</td>
      <td class="mdx-mono" style={{whiteSpace: 'nowrap'}}>PC / SP</td>
      <td class="mdx-mono">OGP。ページのサイト名（ページ名ではなく）を記述する。</td>
    </tr>
    <tr>
      <td class="mdx-mono">`<meta property="og:image" content="https://r.r10s.jp/com/img/home/logo/ogp_1200x630.png" />`</td>
      <td class="mdx-mono" style={{whiteSpace: 'nowrap'}}>PC / SP</td>
      <td class="mdx-mono">OGP。SNSでシェアされた際に表示されるサムネイル画像。</td>
    </tr>
    <tr style={{backgroundColor: '#CCE7D3', color : '#006B3E'}}>
      <td class="mdx-mono">`<meta property="og:locale" content="ja_JP" />`</td>
      <td class="mdx-mono" style={{whiteSpace: 'nowrap'}}>PC / SP</td>
      <td class="mdx-mono">OGP。ページの言語を指定する。Facebookでシェアされた際に適切に翻訳を行うために使用されている。ページが複数の言語に対応している場合は`og:locale:alternate`を使用する。</td>
    </tr>
    <tr>
      <td class="mdx-mono">`<meta property="fb:app_id" content="143239362485006" />`</td>
      <td class="mdx-mono" style={{whiteSpace: 'nowrap'}}>PC / SP</td>
      <td class="mdx-mono">facebook for developersで取得できるApp IDを入力する。</td>
    </tr>
    <tr>
      <td class="mdx-mono">`<meta name="twitter:card" content="summary_large_image" />`</td>
      <td class="mdx-mono" style={{whiteSpace: 'nowrap'}}>PC / SP</td>
      <td class="mdx-mono">
        X上での表示タイプを指定する。
        - summary
        - summary_large_image
        - app
        - player
      </td>
    </tr>
    <tr>
      <td class="mdx-mono">`<meta name="twitter:site" content="@RakutenJP" />`</td>
      <td class="mdx-mono" style={{whiteSpace: 'nowrap'}}>PC / SP</td>
      <td class="mdx-mono">ページ管理者のXユーザーIDを入力する。</td>
    </tr>
    <tr>
      <td class="mdx-mono">
        `<meta name="viewport" content="width=1024" />`
      </td>
      <td class="mdx-mono" style={{whiteSpace: 'nowrap'}}>PC</td>
      <td class="mdx-mono" rowspan="2">デバイスごとにコンテンツの表示領域を設定する。</td>
    </tr>
    <tr>
      <td class="mdx-mono">
        `<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />`  
        <p style={{backgroundColor: '#CCE7D3', color : '#006B3E'}}>
          → `<meta name="viewport" content="width=device-width, initial-scale=1.0" />`  
          （[`user-scalable=no"`はアクセシビリティ面で難がある](https://developer.mozilla.org/ja/docs/Web/HTML/Reference/Elements/meta/name/viewport#user-scalable)とのことで要変更検討）
        </p>
      </td>
      <td class="mdx-mono" style={{whiteSpace: 'nowrap'}}>SP</td>
    </tr>
    <tr>
      <td class="mdx-mono">`<meta name="format-detection" content="telephone=no" />`</td>
      <td class="mdx-mono" style={{whiteSpace: 'nowrap'}}>PC / SP</td>
      <td class="mdx-mono">
        iOSにおいて、電話番号の自動リンク機能を無効にする。他にも指定できる値があるようですが、[現在有効なものは`telephone`のみ](https://b.0218.jp/202412020000.html#%E8%87%AA%E5%8B%95%E3%83%AA%E3%83%B3%E3%82%AF%E3%81%AE%E3%83%91%E3%82%BF%E3%83%BC%E3%83%B3%E7%A2%BA%E8%AA%8D)のようです。  
        電話番号と誤判定されて電話番号に似たフォーマットの無関係のテキストにリンクが付与されてしまう場合があるため、必須。また、PCでは不要なタグですが、PC用テンプレートはタブレットでも表示されるため必要。
      </td>
    </tr>
    <tr>
      <td class="mdx-mono">`<meta name="apple-mobile-web-app-capable" content="yes" />`</td>
      <td class="mdx-mono" style={{whiteSpace: 'nowrap'}}><span style={{backgroundColor: '#CCE7D3', color : '#006B3E'}}>PC（要追加）</span> / SP</td>
      <td class="mdx-mono">ホーム画面に追加したホームアイコンからページを開いた際に、アドレスバーや機能アイコンなどを非表示にする。</td>
    </tr>
    <tr>
      <td class="mdx-mono">`<link href="https://r.r10s.jp/com/img/home/iphone/share/rakuten.png" rel="apple-touch-icon" />`</td>
      <td class="mdx-mono" style={{whiteSpace: 'nowrap'}}><span style={{backgroundColor: '#CCE7D3', color : '#006B3E'}}>PC（要追加）</span> / SP</td>
      <td class="mdx-mono">スマートフォン (iOS/Android) において、ホーム画面のタッチアイコンを指定する。</td>
    </tr>
  </tbody>
</table>

## 不要になったタグ
<table class="mdx-table">
  <thead class="mdx-table-header">
    <tr>
      <th>HTML</th>
      <th>デバイス</th>
      <th>目的</th>
    </tr>
  </thead>
  <tbody class="mdx-table-body">
    <tr>
      <td class="mdx-mono">` `</td>
      <td class="mdx-mono" style={{whiteSpace: 'nowrap'}}></td>
      <td class="mdx-mono"></td>
    </tr>
  </tbody>
</table>

## 参考ページ
[Google がサポートしているメタタグと属性 | Google 検索セントラル &nbsp;|&nbsp; Documentation &nbsp;|&nbsp; Google for Developers](https://developers.google.com/search/docs/crawling-indexing/special-tags?hl=ja)
