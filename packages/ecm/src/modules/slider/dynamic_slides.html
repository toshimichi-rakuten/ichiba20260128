<button
  id="addSlide"
  class="ecm-button mb-8"
  >Add Slide</button
>

<div
  class="ecm-slider-container"
  data-module-name="ecm-slider"
  data-slides-per-group="1"
  data-slides-per-view="4"
  data-space-between="16"
  data-md-slides-per-group="1"
  data-observer="true"
>
  <!-- Slider main container -->
  <div class="ecm-slider">
    <!-- Additional required wrapper -->
    <div class="ecm-slider-track">
      <!-- Slides -->
      <a
        class="ecm-slider-slide"
        href="#"
      >
        <img
          class="w-full h-full"
          src="https://r.r10s.jp/com/img/home/t.gif?resize=700:700"
          data-lazy-loading="https://dummyimage.com/700x700/cccccc/ffffff?text=1"
          alt=""
        />
      </a>
    </div>
  </div>

  <div class="ecm-slider-prev">
    <i
      class="ecm-icon-chevron-left"
      aria-hidden="true"
    ></i>
  </div>

  <div class="ecm-slider-next">
    <i
      class="ecm-icon-chevron-right"
      aria-hidden="true"
    ></i>
  </div>
</div>

<template data-template="slide">
  <a
    class="ecm-slider-slide"
    href="#"
  >
    <img
      class="w-full h-full"
      src="https://dummyimage.com/700x700/cccccc/ffffff?text=NewSlide"
      alt=""
    />
  </a>
</template>

<script>
  function setup() {
    const btn = document.getElementById('addSlide')

    if (btn.getAttribute('data-initialized') === 'true') {
      return
    }

    btn.setAttribute('data-initialized', 'true')

    btn.addEventListener('click', () => {
      const track = document.querySelector('.ecm-slider-track')
      const template = document.querySelector('template[data-template="slide"]')
      const clone = template.content.cloneNode(true)
      track.appendChild(clone)
    })
  }

  setup()
</script>
